<div class="h-full flex">
  <div class="flex-1 flex flex-col">
    <div class="flex-1 overflow-y-auto p-4">
      <app-chat-message *ngFor="let message of messages" [message]="message.text" [isBot]="message.isBot"
        [timestamp]="message.timestamp"></app-chat-message>
    </div>

    <div class="border-t p-4">
      <div class="flex gap-2">
        <input type="text" [(ngModel)]="input" (keydown.enter)="handleSend()" placeholder="Type your message..."
          class="flex-1 p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" />
        
        <button (click)="handleSend()"
          class="bg-blue-500 text-white p-2 rounded-lg hover:bg-blue-600 transition-colors">
          <mat-icon class="text-white">send</mat-icon>
        </button>
      </div>
    </div>
  </div>

  <div class="flex h-full">
    <button (click)="toggleSidebar()" class="p-2 hover:bg-gray-100 rounded-lg self-start mt-4 mr-2"
      [attr.aria-label]="isSidebarOpen ? 'Close sidebar' : 'Open sidebar'">
      <mat-icon class="transform transition-transform" [ngClass]="isSidebarOpen ? 'rotate-180' : ''">info_outline</mat-icon>
    </button>
    <app-chat-sidebar *ngIf="isSidebarOpen" [taskInfo]="currentTaskInfo"></app-chat-sidebar>
  </div>
</div>
